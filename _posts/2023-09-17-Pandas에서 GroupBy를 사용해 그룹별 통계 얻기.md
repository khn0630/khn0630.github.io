---
title: Pandas에서 GroupBy를 사용해 그룹별 통계 얻기
date: 2023-09-17 20:00:00 +0900
categories:
  - python
tags:
  - pandas
  - GroupBy
---

## 소개

데이터 분석에서는 종종 같은 카테고리나 그룹에 속하는 데이터끼리 묶어서 통계를 내는 것이 필요합니다. Python의 Pandas 라이브러리는 이런 작업을 쉽게 해주는 `groupby` 메소드를 제공합니다. 본 글에서는 `groupby`를 이용해 데이터를 그룹별로 묶고, 각 그룹의 개수, 평균 등의 통계를 어떻게 구하는지 알아보겠습니다.

## `groupby`의 기본 사용법

먼저 `groupby` 메소드를 사용하려면 Pandas 라이브러리를 불러와야 합니다. 다음은 간단한 예시입니다.

```python
import pandas as pd

# 데이터프레임 생성
df = pd.DataFrame({
    '성별': ['남', '여', '남', '여'],
    '점수': [90, 85, 77, 95]
})

# 성별로 그룹화하고 평균 점수 구하기
grouped = df.groupby('성별')
mean_scores = grouped.mean()
```

## 통계 지표 구하기

`groupby`로 묶은 후에는 다양한 통계 지표를 구할 수 있습니다.

- `count()`: 그룹별 데이터 개수
- `sum()`: 그룹별 합계
- `mean()`: 그룹별 평균
- `std()`: 그룹별 표준편차(Standard Deviation, 데이터의 퍼짐 정도를 나타냄)

## 복합 통계 지표

여러 가지 통계 지표를 한 번에 구하려면 `agg` 메소드를 사용하면 됩니다.

```python
grouped = df.groupby('성별')
complex_stats = grouped.agg(['count', 'mean', 'std'])
```

이렇게 하면 '성별'을 기준으로 그룹화된 데이터에 대해 개수, 평균, 표준편차가 한 번에 계산됩니다.

## 오류 및 해결법

`groupby`를 사용하면서 자주 발생하는 오류는 `KeyError`입니다. 이는 그룹화할 칼럼 이름을 잘못 입력했을 때 나타납니다. 이럴 경우, 데이터프레임의 칼럼 이름을 정확히 확인해야 합니다.

## 마무리

Pandas의 `groupby` 메소드를 활용하면 데이터를 쉽게 그룹별로 분류하고 다양한 통계 지표를 얻을 수 있습니다. 특히 `agg` 메소드를 이용하면 여러 통계 지표를 한 번에 계산할 수 있어 매우 유용합니다. 이를 통해 데이터 분석의 효율성을 크게 높일 수 있습니다.